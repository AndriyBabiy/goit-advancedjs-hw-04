{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  gallery.innerHTML = '';\n\n  const request = evt.currentTarget.elements.searchQuery.value;\n\n  console.log(request);\n\n  fetchImages(request)\n    .then(response => {\n      gallery.insertAdjacentHTML(\n        'beforeend',\n        createImageBlockMarkup(response.hits)\n      );\n\n      console.log(response.hits);\n    })\n    .catch(error => console.log(error));\n});\n\nfunction fetchImages(request) {\n  const CORE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42185018-8d9cd3aefdae43a32ddab8929';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  // axios fetch attempt\n  // return axios({\n  //   // headers: {\n  //   //   Authorization: `Bearer ${API_KEY}`\n  //   // },\n  //   url: `${CORE_URL}?${params}`\n  // }).then(response => {\n  //   if (!response.ok) {\n  //     throw new Error(response.statusText);\n  //   }\n  //   console.log();\n\n  //   return response.json();\n  // })\n  //\n\n  return fetch(`${CORE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    console.log();\n\n    return response.json();\n  });\n}\n\nfunction createImageBlockMarkup(arr) {\n  return arr\n    .map(\n      ({ webformatURL, tags, likes, views, comments, downloads }) => `\n  <div class=\"photo-card\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>\n          ${likes}\n        </p>\n        <p class=\"info-item\">\n        <b>Views</b>\n        ${views}\n       </p>\n        <p class=\"info-item\">\n          <b>Comments</b>\n          ${comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>\n          ${downloads}\n        </p>\n    </div>\n  </div>\n  `\n    )\n    .join('');\n}\n"],"names":["form","gallery","evt","request","fetchImages","response","createImageBlockMarkup","error","CORE_URL","API_KEY","params","arr","webformatURL","tags","likes","views","comments","downloads"],"mappings":"ssBAEA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,GAAO,CACrCA,EAAI,eAAc,EAClBD,EAAQ,UAAY,GAEpB,MAAME,EAAUD,EAAI,cAAc,SAAS,YAAY,MAEvD,QAAQ,IAAIC,CAAO,EAEnBC,EAAYD,CAAO,EAChB,KAAKE,GAAY,CAChBJ,EAAQ,mBACN,YACAK,EAAuBD,EAAS,IAAI,CAC5C,EAEM,QAAQ,IAAIA,EAAS,IAAI,CAC/B,CAAK,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC,EAED,SAASH,EAAYD,EAAS,CAC5B,MAAMK,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAkBD,OAAO,MAAM,GAAGK,KAAYE,GAAQ,EAAE,KAAKL,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,eAAQ,IAAG,EAEJA,EAAS,MACpB,CAAG,CACH,CAEA,SAASC,EAAuBK,EAAK,CACnC,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,gBAErDL,WAAsBC;AAAA;AAAA;AAAA;AAAA,YAI1BC;AAAA;AAAA;AAAA;AAAA,UAIFC;AAAA;AAAA;AAAA;AAAA,YAIEC;AAAA;AAAA;AAAA;AAAA,YAIAC;AAAA;AAAA;AAAA;AAAA,GAKP,EACA,KAAK,EAAE,CACZ"}